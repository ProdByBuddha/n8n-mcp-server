<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>MCP HTTP Test Client</title>
  <style>
    body { font-family: system-ui, sans-serif; margin: 2rem; }
    textarea, input { width: 100%; }
    pre { background:#f5f5f5; padding:1rem; overflow:auto; }
  </style>
  <script>
    async function call() {
      const endpoint = document.getElementById('endpoint').value || '/mcp';
      const method = document.getElementById('method').value || 'tools/list';
      const args = document.getElementById('args').value || '{}';
      const req = { jsonrpc: '2.0', id: '1', method: method, params: method==='tools/call'? JSON.parse(args) : {} };
      if (method !== 'tools/call' && method !== 'tools/list') {
        // allow direct method calls
        req.method = method;
        req.params = JSON.parse(args || '{}');
      }
      const res = await fetch(endpoint, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(req) });
      const text = await res.text();
      document.getElementById('out').textContent = text;
    }
  </script>
  </head>
  <body>
    <h1>MCP HTTP Test Client</h1>
    <p>Run a generated server in HTTP mode (e.g., <code>node generated-server/index.js</code>) and set endpoint below:</p>
    <label>Endpoint (default /mcp)</label>
    <input id="endpoint" value="/mcp" />
    <label>Method (e.g., tools/list or tools/call)</label>
    <input id="method" value="tools/list" />
    <label>Args (JSON; for tools/call, provide {"name":"toolName","arguments":{}})</label>
    <textarea id="args" rows="6">{}</textarea>
    <button onclick="call()">Send</button>
    <h3>Response</h3>
    <pre id="out"></pre>
  </body>
  </html>

